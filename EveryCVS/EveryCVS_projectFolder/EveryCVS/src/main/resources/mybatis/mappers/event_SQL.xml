<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="event">

	<resultMap id="resultEvent" type="event">
		<result property="event_no" column="EVENT_NO" />
		<result property="title" column="TITLE" />
		<result property="writer" column="WRITER" />
		<result property="contents" column="CONTENTS" />
		<result property="start_date" column="START_DATE" />
		<result property="end_date" column="END_DATE" />
		<result property="join_limit" column="JOIN_LIMIT" />
		<result property="readcount" column="READCOUNT" />
		<result property="original_file_name" column="ORIGINAL_FILE_NAME" />
		<result property="stored_file_name" column="STORED_FILE_NAME" />
		<result property="del_check" column="DEL_CHECK" />
	</resultMap>
	
	
	<!-- 이벤트 리스트 조회 -->
	<select id="eventList" resultType="list" resultMap="resultEvent">
		<![CDATA[
			SELECT * FROM TB_EVENT 
		]]>
	</select>
	
	<insert id="eventInsert" parameterType="event" flushCache="true"
      statementType="PREPARED" useGeneratedKeys="true">
	<![CDATA[
		insert into TB_EVENT values (SEQ_EVENT_NO.nextval, 
									#{title},#{WRITER},#{CONTENTS},#{START_DATE},
									#{END_DATE}, #{JOIN_LIMIT},#{READCOUNT},#{ORIGINAL_FILE_NAME, jdbcType=VARCHAR},
									#{STORED_FILE_NAME, jdbcType=VARCHAR},#{DEL_CHECK})
									
		]]>
	</insert>
	

</mapper>